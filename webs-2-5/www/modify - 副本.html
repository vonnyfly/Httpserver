<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>编辑</title>
	<style type="text/css">
	input{width:80px};
	</style>

	<script language="javascript">     
      
    var rows = 0;   
    function addInputElement(row,mytype,value){     
        var col = document.createElement("th"); 
        var newInput = document.createElement("input");      
        elementCount = elementCount + 1;     
        //指定input的类型。  
        newInput.type=mytype;      
        //动态生成id。  
        newInput.id="field"+(elementCount);     
        newInput.name="field";
        newInput.value=value;
        col.appendChild(newInput);
        row.appendChild(col);  
    }  
     function addLabel(row,value){
     	var col = document.createElement("th"); 
     	var label = document.createElement("label"); 
     	label.
     	col.appendChild(label);
        row.appendChild(col);  
     }
    // function addRow(){
    // 	var objTable = document.getElementById("tab"); 
    // 	var row = document.createElement("tr"); 
    // 	addInputElement(row,'button','编辑字段名');
    // 	addInputElement(row,'text');
    // 	addInputElement(row,'text');
    // 	addLabel(row,'x');
    // 	addLabel(row,'y');
    // 	addInputElement(row,'text');
    // 	addInputElement(row,'text');
    // 	addInputElement(row,'button','删除字段');
    // 	objTable.appendChild(row);
    // }
    
    function addRow(){
    	//添加一行 
    	var rows = tab.rows.length
		var newTr = tab.insertRow(tab.rows.length); 
		//添加两列 
		// var newTd8 = newTr.insertCell();
		// var newTd7 = newTr.insertCell(); 
		// var newTd6 = newTr.insertCell(); 
		// var newTd5 = newTr.insertCell(); 
		// var newTd4 = newTr.insertCell(); 
		// var newTd3 = newTr.insertCell(); 
		// var newTd2 = newTr.insertCell(); 
		// var newTd1 = newTr.insertCell(); 

		var newTd1 = newTr.insertCell();
		var newTd2 = newTr.insertCell(); 
		var newTd3 = newTr.insertCell(); 
		var newTd4 = newTr.insertCell(); 
		var newTd5 = newTr.insertCell(); 
		var newTd6 = newTr.insertCell(); 
		var newTd7 = newTr.insertCell(); 
		var newTd8 = newTr.insertCell(); 

		var fieldName = 'field' + rows;
		var fieldValue= 'value' + rows;
		var coordXName = 'x' + rows;
		var coordYName = 'y' + rows;
		var coordX = (rows%2)* 400;
		var coordY = (rows/2)* 40;

		newTd1.innerHTML='<input type="text" name='+fieldName+' id='+fieldName+' value='+fieldName+'>';
		newTd2.innerHTML='<input type="text" name='+fieldValue+' id='+fieldValue+' value='+fieldValue+'>';
		newTd3.innerHTML='<label>x</label>';
		newTd4.innerHTML='<input type="text" name='+coordXName+' value='+coordX+'>';
		newTd5.innerHTML='<lable>y</lable>';
		newTd6.innerHTML='<input type="text" name='+coordYName+' value='+coordY+'>';
		newTd7.innerHTML='<input type="button" value="添加字段" name="btn1" id="btn1" onClick="addRow()">';
		newTd8.innerHTML='<input type="button" value="删除字段" name="btn1" id="btn1" onClick="delRow(this.parentElement.rowIndex)">';


    }
    function delRow (rowIndex)
{ 
if( tab.rows.length > 1)
  tab.deleteRow(rowIndex);        //通过行索引删除行
}
    //动态删除表单元素。     
    function delElement(mytype){     
        var TemO=document.getElementById("tab");     
          
        if (elementCount>0){     
            var newInput = document.getElementById("input"+elementCount);      
             
            TemO.removeChild(newInput);   
     
            var newline= document.getElementById("br"+(elementCount));   
              
            elementCount = elementCount - 1;    
              
            TemO.removeChild(newline);     
        }   
    }     
    </script>
</head>
<body>
	<form action="cgi-bin/store" method="get" id="form">
		<table id="tab">
			<tr>
				<th>
					<input type="text" name="field0" id="field0" value="field0"></th>
				<th>
					<input type="text" name="value0" id="value0" value="value0"></th>
				<th>
					<label>x</label>
				</th>
				<th>
					<input type="text" name="coordX" value='0'></th>
				<th>
					<lable>y</lable>
				</th>
				<th>
					<input type="text" name="coordY" value='0'></th>
				<th>
					<input type="button" value="添加字段" name="btn1" id="btn1" onClick="addRow()"></th>
				<th>
					<input type="button" value="删除字段" name="btn1" id="btn1" onClick="delRow(this.parentElement.rowIndex)"></th>
			</tr>
		</table>
		<fieldset>
			<p>
				<label for="">文件名:</label>
				<input type="text" value="app">
				<input type="submit" value="提交修改">
				<input type="submit" value="删除文件"></p>
		</fieldset>
	</form>
</body>
</html>
<!-- <body>
<form id="form1" name="form1" method="get" action="cgi-bin/fileOps">
	<table width="100%" border="0">
		<tr>
			<td width="14%">
				<div align="right">文本：</div>
			</td>
			<td width="86%">
				<textarea name="textarea" id="textarea"  rows="5" style="width:30%;" ></textarea>
			</td>
		</tr>
		<tr>
			<td>
				<div align="right">日期格式1：</div>
			</td>
			<td>
				<input type="text" name="textfield" id="textfield"  style="width:30%;" value="2013/01/28"/>
			</td>
		</tr>
		<tr>
			<td>
				<div align="right">日期格式2：</div>
			</td>
			<td>
				<input type="text" name="textfield2" id="textfield2" style="width:30%;" value="01/28/2013"/>
			</td>
		</tr>
		<tr>
			<td>
				<div align="right">时间格式1:</div>
			</td>
			<td>
				<input type="text" name="textfield3" id="textfield3" style="width:30%;" value="HH:MM:SS"/>
			</td>
		</tr>
		<tr>
			<td>
				<div align="right">计数器：</div>
			</td>
			<td>
				<input type="text" name="textfield4" id="textfield4" style="width:30%;" />
			</td>
		</tr>
		<tr>
			<td>
				<div align="right">图片：</div>
			</td>
			<td>
				<input type="image" name="imageField" id="imageField" src="preview.jpg" />
			</td>
		</tr>
	</table>
	<p align="center">
		<input type="submit" name="bNew" id="bNew" value="新建" onclick="window.location.href='print.html'"/>
	</p>
	<p align="center">
		<input type="submit" name="bOpen" id="bOpen" value="打开" onclick="window.location.href='print.html'"/>
	</p>
	<p align="center">
		<input type="submit" name="bDel" id="bDel" value="删除" onclick="window.location.href='print.html'"/>
	</p>
</form>
</body>
-->
</html>